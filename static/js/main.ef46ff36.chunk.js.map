{"version":3,"sources":["hooks/useWalker.ts","hooks/useNetwork.ts","App.tsx","reportWebVitals.js","index.js"],"names":["require","config","Walker","localAddress","useWalker","web3","useState","address","setAddress","useEffect","detectNetwork","then","network","address_","name","fetchWalkerName","walkerID","a","contract","ethers","Contract","abi","tokenWalkerName","data","console","log","setWalkerName","walkerName","Error","signer","getSigner","_setTokenName","transaction","wait","mintWalker","mint_address","mint","getNftCount","wallet_address","balanceOf","count","parseInt","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","process","REACT_APP_INFURA_ID","web3Modal","Web3Modal","cacheProvider","useNetwork","provider","setProvider","setWeb3","connect","provider_","web3_","providers","Web3Provider","disconnect","close","clearCachedProvider","undefined","handleNetwork","event","battleEvent","App","setNetwork","account","setAccount","adv","setAdv","nftCount","setNftCount","walker","setWalker","appMsg","setAppMsg","inputElm","useRef","document","createElement","initFields","setNetworkAccount","catch","showAppMsg","listAccounts","accounts","err","message","setTimeout","notificationInfo","handleConnect","handleFetch","handleFetchCount","handleSet","current","value","title","content","notification","description","handleMint","toString","bigtext","getElementById","innerText","i","txtList","clearQlist","txt1","txt2","txt3","selectChoice","num","choiceTxt","result","Math","floor","random","answers","handleBattle","randomNum","choiceTxt1","innerHTML","prefix","choices","loadBattle","className","id","cat","icon","faRandom","color","size","onClick","choiceTxt2","choiceTxt3","clickNext","ref","placeholder","type","chainId","classnames","scroll1","play","style","display","scroll","faDog","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ef46ff36.chunk.js","sourcesContent":["import { ethers, providers } from \"ethers\";\nimport { useEffect, useState } from \"react\";\nrequire('dotenv').config();\n// const PRIVATE_KEY = process.env.PRIVATE_KEY;\n// const CONTRACT_ADDRESS = process.env.CONTRACT_ADDRESS;\n// const WALLET_ADDRESS = process.env.WALLET_ADDRESS;\nconst Walker = require('../artifacts/contracts/Walker.sol/Walker.json');\n\nconst localAddress = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n// const ropstenAddress = \"0xAf0eDf79D9bb4cC0481ddC0e157c906Fc5384FB8\"\nconst CONTRACT_ADDRESS = \"0x238e289247CD6122EdCd65216A9b8bE4e8f963BA\"\n\nconst contractAddress = (networkName: string) => {\n//   return networkName === \"ropsten\" ? CONTRACT_ADDRESS : localAddress\n    return networkName === \"maticmum\" ? CONTRACT_ADDRESS : localAddress\n}\n\ntype Props = {\n  web3: providers.Web3Provider | undefined\n}\n\nfunction useWalker({ web3 }: Props) {\n  const [address, setAddress] = useState<string>(localAddress)\n\n  useEffect(() => {\n    web3?.detectNetwork().then((network) => {\n      const address_ = contractAddress(network.name)\n      setAddress(address_)\n    })\n  }, [web3])\n\n  const fetchWalkerName = async (walkerID: number) => {\n    if (typeof web3 === \"undefined\") return\n\n    const contract = new ethers.Contract(address, Walker.abi, web3)\n\n    try {\n      const data = await contract.tokenWalkerName(walkerID)\n      console.log(\"data: \", data)\n      return data\n    } catch (err) {\n      console.log(\"Error: \", err)\n      throw err\n    }\n  }\n\n  const setWalkerName = async (walkerID: number, walkerName: string) => {\n    if (typeof web3 === \"undefined\") return\n    if (!setWalkerName) throw new Error(\"Record Empty\")\n\n    const signer = web3.getSigner()\n    const contract = new ethers.Contract(address, Walker.abi, signer)\n    const transaction = await contract._setTokenName(walkerID, walkerName)\n    await transaction.wait()\n  }\n\n  const mintWalker = async (mint_address: string, walkerName: string) => {\n    if (typeof web3 === \"undefined\") return\n    if (!setWalkerName) throw new Error(\"Record Empty\")\n\n    const signer = web3.getSigner()\n    const contract = new ethers.Contract(address, Walker.abi, signer)\n    try{\n      const transaction = await contract.mint(mint_address, walkerName)\n      await transaction.wait()\n      console.log(\"Tx: \", transaction)\n      return \n    }catch (err) {\n      console.log(\"Error: \", err)\n      throw err\n    }\n  }\n\n  const getNftCount = async (wallet_address: string) => {\n    if (typeof web3 === \"undefined\") return\n    if (!setWalkerName) throw new Error(\"Record Empty\")\n\n    const signer = web3.getSigner()\n    const contract = new ethers.Contract(address, Walker.abi, signer)\n    console.log(\"userwork invoke: \"+wallet_address)\n    const count = await contract.balanceOf(wallet_address)\n    console.log(count)\n    // await count.wait()\n    return parseInt(count,16)\n  }  \n\n  return [fetchWalkerName, setWalkerName, mintWalker, getNftCount] as const\n}\n\nexport default useWalker\n","import WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { providers } from \"ethers\";\nimport { useState } from \"react\";\nimport Web3Modal from \"web3modal\";\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider,\n    options: {\n      infuraId: process.env.REACT_APP_INFURA_ID,\n    }\n  }\n}\n\nconst web3Modal = new Web3Modal({\n  // network: \"ropsten\",\n  cacheProvider: false,\n  providerOptions\n})\n\nfunction useNetwork() {\n  const [provider, setProvider] = useState<any>()\n  const [web3, setWeb3] = useState<providers.Web3Provider>()\n\n  const connect = async () => {\n    const provider_ = await web3Modal.connect()\n    setProvider(provider_)\n    console.log(provider_)\n    const web3_ = new providers.Web3Provider(provider_)\n    setWeb3(web3_)\n    console.log(web3_)\n  }\n\n  const disconnect = async () => {\n    // explicitly close when wallet connect is used\n    if (provider && provider.close) {\n      await provider.close()\n    }\n    web3Modal.clearCachedProvider()\n\n    setProvider(undefined)\n    setWeb3(undefined)\n  }\n\n  const handleNetwork = async () => {\n    if (typeof web3 === \"undefined\") {\n      await connect()\n    } else {\n      await disconnect()\n    }\n  }\n\n  return [{ web3 }, handleNetwork] as const\n}\n\nexport default useNetwork\n","import 'antd/dist/antd.css';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faDog } from '@fortawesome/free-solid-svg-icons'\nimport { faRandom } from '@fortawesome/free-solid-svg-icons'\nimport { providers } from 'ethers';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useWalker from './hooks/useWalker';\nimport useNetwork from './hooks/useNetwork';\nimport { notification,Button } from 'antd';\nimport classnames  from 'classnames';\nimport EasyTyper from 'easy-typer-js'\nconst event = require('./local-storage/event.json')\nconst battleEvent = require('./local-storage/battle-event.json')\n// import Routes from './routes'\n// import { Router } from 'react-router';\n\n// function App(): JSX.Element {\nfunction App(){  \n      // wallet connect\n      const [network, setNetwork] = useState<providers.Network>()\n      const [account, setAccount] = useState<string>()\n      // const [notifyTitle, setTitle] = useState<string>()\n      // const [descriptionContent, setDes] = useState<string>()\n      const [adv, setAdv] = useState<string>()\n      const [nftCount, setNftCount] = useState<number>()\n      const [walker, setWalker] = useState<string>()\n      const [appMsg, setAppMsg] = useState<string>()\n      const inputElm = useRef<HTMLInputElement>(document.createElement(\"input\"))\n      const walkerID = 2\n      const [{ web3 }, handleNetwork] = useNetwork()\n      const [fetchWalkerName, setWalkerName, mintWalker, getNftCount] = useWalker({ web3 })\n\n      useEffect(() => {\n        if (typeof web3 === \"undefined\") {\n          initFields()\n          console.log(\"clear 4 state\")\n        } else {\n          const setNetworkAccount = async () => {\n            web3.detectNetwork().then(setNetwork)\n              .catch(showAppMsg)\n            web3.listAccounts().then(accounts => {\n              // console.log(accounts)\n              setAccount(accounts[0])\n              // console.log(\"initial \"+account)\n            }).catch(showAppMsg)\n          }\n          setNetworkAccount()\n        }\n      }, [web3])\n\n      const initFields = () => {\n        setNetwork(undefined)\n        setAccount(undefined)\n        setWalker(undefined)\n        setNftCount(undefined)\n      }\n\n      const showAppMsg = (err: any) => {\n        console.log(err)\n        setAppMsg(err.message || `${err}`)\n        setTimeout(() => setAppMsg(undefined), 7000)\n        notificationInfo(\"Error or failed\", err.message || `${err}`)\n      }\n      const handleConnect = async () => {\n        handleNetwork().catch(showAppMsg)\n      }\n\n      // todo todo\n      // const handleGetAccountWalker = async () => {\n      //   fetchWalkerName(walkerID).then(setWalker).catch(showAppMsg)\n      // }      \n      \n      const handleFetch = async () => {\n        fetchWalkerName(walkerID).then(setWalker).catch(showAppMsg)\n      }\n\n      const handleFetchCount = async () => {\n        if(account){\n          console.log(\"Fetch nfts for address :getNftCount\"+account)\n          getNftCount(account).then(setNftCount).catch(showAppMsg)\n        }\n      }      \n\n    \n      // const handleTestClick = () => {\n      //   console.log(\"test click\")\n      //   const title = \"Test\"\n      //   const descriptionContent = \"Wow~\"\n      //   notification['info']({\n      //     message: title,\n      //     description:\n      //       descriptionContent,\n      //   });\n      // };\n\n\n      const handleNotify = () => {\n        console.log(\"notify\")\n        notification['info']({\n          message: \"Title\",\n          description:\n            \"Content here\",\n        });\n      };      \n\n\n      const handleSet = () => {\n        console.log(\"set here\")\n        setWalkerName(walkerID, inputElm.current.value)\n          .then(() => {\n            inputElm.current.value = \"\"\n            handleFetch()\n          })\n          .catch(showAppMsg)\n      }\n      //end wallet func\n\n      function notificationInfo(title: string, content: string){\n        notification['info']({\n          message: title,\n          description: content,\n        }); \n      }\n      const handleMint = () => {\n        //先再次判断，是不是铸造walker了\n        console.log('handleMint invoke: '+account)\n        if(account){\n          getNftCount(account).then(setNftCount).catch(showAppMsg)\n          if(nftCount&&nftCount>0){\n            notificationInfo(\"Do not neet to meant\",\"You have \"+nftCount.toString()+\" Walker to play\")\n          }\n        }        \n        \n        if(!network||!account){\n          notificationInfo(\"Network not ready!\",\"Connect the web3 first with bottom tool\")\n          console.log(\"Connect the web3 first\")\n        }\n        if(nftCount&&nftCount>0){\n          console.log(\"Boy, you have got the ticket to the hell,GO!\")\n          const bigtext = document.getElementById(\"bigtext\")\n          bigtext ? bigtext.innerText= \"Boy, you have got the ticket to the hell,GO!\" :console.log(\"error\")\n          setAdv('now')\n          return null\n        }\n        if(account && inputElm.current.value){\n          console.log(\"new walker name is:\"+inputElm.current.value)\n          // console.log(\"mint a walker named :\"+ inputElm.current.value+ \", mint to address:\"+account)\n          mintWalker(account, inputElm.current.value)\n          .then(() => {\n            inputElm.current.value = \"\"\n            handleFetch()\n          })\n          .catch(showAppMsg)\n        }\n        else{\n          console.log('handleMint else: '+account)\n          notificationInfo(\"You have no walker to play, mint one first!\",\"Please input your walker name in bottom input\")\n          console.log(\"mint to address or walkerName is empty!\")\n        }\n      }\n    // mintwalker\n    \n    //begin scroll function\n    let i = 0\n    const txtList = [\"My dog has been robbed by the Cerberus？\", \"Oh my poor doggy!  I must save him in this weekend!\", \"So you bring on your umbrella and dog leash, down to the cellar.\", \"A small adventure is begining...\"]\n    function scroll(){\n      if(nftCount===0){\n        handleMint()\n        if(nftCount>0){\n          setAdv(\"now\")\n        }\n        return null\n      }\n      //check network\n      if(!account){\n        notificationInfo(\"Network not connected\", \"Try to connecting ...\")\n          try{\n            handleConnect()\n          } catch (err) {\n        console.log(\"Error: \", err)\n        notificationInfo(\"Error connecting\", \"See the console log\")\n        throw err\n        }\n        return null\n      }\n      console.log(nftCount)\n\n      //if network connected, check nftCount\n      if(account&&!nftCount&&nftCount!==0){\n        console.log(nftCount)\n        notificationInfo(\"Network ok\", \"Trying to get your walker ...\")\n        try{\n          console.log(\"app invoke userwalker getNftCount: \"+ account )\n          getNftCount(account).then(setNftCount).catch(showAppMsg)\n          } catch (err) {\n        console.log(\"Error: \", err)\n        notificationInfo(\"Error fetching NFT\", \"See the console log\")\n        throw err\n        }  \n        if(nftCount===undefined||nftCount===0){\n          return null\n        }\n      }    \n\n      //if nftCount ok, jump to play\n      if(nftCount&&nftCount>0){\n        setAdv('now')\n        return null\n      }\n\n\n      const scroll1 = document.getElementById('scroll')\n      if (i<4 && scroll1){\n        // console.log(i)\n          scroll1.innerText = txtList[i] ? txtList[i] : ''\n        i = i +1\n      } else{\n        console.log('start')\n        if(scroll1){\n          scroll1.innerText =\"\"\n        }\n        const play = document.getElementById('create')\n        if (play){\n          play.style.display = 'inline';\n        }\n        \n      }\n\n    }\n    // end scroll func\n\n\n    //adventure function list\n    function clearQlist(count: number){\n      if(count!==1){//check is A\n          const txt1 = document.getElementById(\"choice1\")\n          const txt2 = document.getElementById(\"choice2\")\n          const txt3 = document.getElementById(\"choice3\")\n          if(txt1){\n              txt1.innerText='' \n          }    \n          if(txt2){\n              txt2.innerText='' \n          }    \n          if(txt3){\n              txt3.innerText='' \n          }     \n          console.log('clear Q1,2,3: '+count.toString()) \n      }              \n\n  }\n  function selectChoice(num: number){\n      const choiceTxt = document.getElementById(\"choice\"+num.toString())\n      const txt1 = document.getElementById(\"choice1\")\n      const txt2 = document.getElementById(\"choice2\")\n      const txt3 = document.getElementById(\"choice3\")\n      // console.log('click : '+num.toString())\n      let count =3\n      txt1 ? (txt1.innerText==='' ? count= count-1:count = count+0) :count=count+0   \n      txt2 ? (txt2.innerText==='' ? count= count-1:count = count+0) :count=count+0   \n      txt3 ? (txt3.innerText==='' ? count= count-1:count = count+0) :count=count+0   \n      // console.log('txt count: '+count.toString())      \n      clearQlist(count)    \n      let result = null\n      if(count===3){\n          switch (num) {\n              case 1:\n                  clearQlist(2)\n                  choiceTxt ? result = (choiceTxt.innerText = 'A1: '+event.data[Math.floor((Math.random()*10))].answers['f']) : result = null\n                  // console.log('txt count: '+count.toString())   \n                  return result\n              case 2:\n                  clearQlist(2)\n                  choiceTxt ? result = (choiceTxt.innerText = 'A2: '+event.data[Math.floor((Math.random()*10))].answers['s']) : result = null\n                  return result\n              case 3:\n                  clearQlist(2)\n                  choiceTxt ? result = (choiceTxt.innerText = 'A3: '+event.data[Math.floor((Math.random()*10))].answers['t'] ) : result = null   \n                  return result\n              default :\n                  return result                                      \n          }            \n      }   \n      return false     \n  }\n  //Q1,2,3 refresh, must be false\n  function clickNext(){\n      const choiceTxt1 = document.getElementById(\"choice1\")\n      const choiceTxt2 = document.getElementById(\"choice2\")\n      const choiceTxt3 = document.getElementById(\"choice3\")\n      // let serror = false\n      // console.log('clickNetxt')\n          choiceTxt1 ?   choiceTxt1.innerText = 'Q1: '+event.data[Math.floor((Math.random()*10))].choices['f'] : console.log('Q1 be clicked')\n          choiceTxt2 ?   choiceTxt2.innerText = 'Q2: '+event.data[Math.floor((Math.random()*10))].choices['t'] : console.log('Q2 be clicked')\n          choiceTxt3 ?   choiceTxt3.innerText = 'Q3: '+event.data[Math.floor((Math.random()*10))].choices['t'] : console.log('Q3 be clicked')\n          if(Math.floor((Math.random()*10))>6){\n            handleBattle()\n          }\n      \n  } \n    //end adventure func\n  function loadBattle(randomNum: number){\n    const choiceTxt1 = document.getElementById(\"choice1\")\n    // const choiceTxt2 = document.getElementById(\"choice2\")\n    // const choiceTxt3 = document.getElementById(\"choice3\")  \n    \n    choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+battleEvent[randomNum].data[0].prefix : console.log('battle load')  \n    choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+battleEvent[randomNum].data[0].choices['f'] : console.log('battle load')  \n    choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+ battleEvent[randomNum].data[0].answers['f']  : console.log('battle load')  \n    // choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+ battleEvent[randomNum].data[0].choices['s']  : console.log('battle load')  \n    choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+ battleEvent[randomNum].data[0].answers['s']  : console.log('battle load')  \n    // choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+ battleEvent[randomNum].data[0].choices['t']  : console.log('battle load')  \n    choiceTxt1 ? choiceTxt1.innerHTML = choiceTxt1.innerHTML + '<br/>'+ battleEvent[randomNum].data[0].answers['t']  : console.log('battle load')  \n  }\n\n\n    // begin battle function\n\n    const handleBattle = () => {\n      console.log(\"battle begin\")\n      clearQlist(1)\n      clearQlist(2)\n      clearQlist(3)\n      const randomNum = Math.floor((Math.random()*3))\n      loadBattle(randomNum)\n\n    };    \n    // end battle func \n\n\n    // return result\n    if(adv){\n      console.log(\"adv is \"+adv)\n      return (\n        <div className=\"flex flex-col h-screen items-start overflow-x-hidden bg-custom-background\">\n        <header className=\"App-header\">\n        <div className=\"text-white ml-40 mr-40 text-xl font-bold border-8 border-white\" id=\"stage\">\n        It is a test of stage, click your choice!<br/>\n        cat: {event.cat}||| id: {event.id}\n        <FontAwesomeIcon\n                    icon={faRandom}\n                    className=\"mt-1 ml-40\"\n                    color=\"red\"\n                    size=\"1x\"\n                    title=\"Begin! Rescue you dog!\"\n                    // forwardedRef=\"\"\n                    onClick={() => {clickNext()}}\n                /> \n        <hr/>\n        <div >\n            <div className=\"text-blue mt-1 ml-0\" id=\"choice1\"\n            onClick={() => {selectChoice(1)}}\n            >1.{event.data[0].choices['f']}</div>\n            <div className=\"text-red mt-1 ml-0\" id=\"choice2\"\n            onClick={() => {selectChoice(2)}}\n            >2.{event.data[0].choices['s']}</div>\n            <div className=\"text-white mt-1 ml-0\" id=\"choice3\"\n            onClick={() => {selectChoice(3)}}\n            >3.{event.data[0].choices['t']}</div>\n        </div>\n        <br/>\n      </div>\n      </header>\n      --------------------------------\n            <div className=\"text-white bg-custom-black py-1 px-2 text-xl\">\n              <button onClick={handleConnect}>{web3 ? \"Disconnect\" : \"Connect\"}</button><br />\n              <button onClick={handleFetch}>Fetch My Walker info</button><br />\n              <button onClick={handleSet}>Set New Name</button>\n              <input ref={inputElm} placeholder=\"reSet My Walker Name\" /><br />\n              <button onClick={handleFetchCount}>get My NFT count</button><br />\n              <Button type=\"primary\" onClick={handleBattle}>Battle now</Button>\n              <hr />\n              <div>\n              Network: {network?.chainId} {network?.name}<br />\n              Account: {account}<br />\n              WalkerName: {walker}<br />\n              StatusMessage: {appMsg}<br />\n              Has NFTs: {nftCount}<br />\n              </div>\n            </div>\n            <i>Test using Matic TestNet, 80001</i>      \n    </div>\n      )\n    } else{\n      return (\n        <div className=\"flex flex-col h-screen items-start overflow-x-hidden bg-custom-background\">\n          <div>\n            <header className=\"App-header\">\n            <div id=\"scroll\" className={classnames({\"user-select\": \"none\",\"-webkit-user-select\": \"none\"})} onClick={() => {scroll()}}>  What the hell? </div>\n            \n\n            <div id=\"create\" className=\"ml-20 \" style={{display: 'none'}}>\n                <div className=\"text-white bg-custom-black py-1 px-2 text-2xl\" >\n                          <h3 className=\"text-white\" id=\"bigtext\">Create your Walker, rescue your dog!</h3>\n                          <FontAwesomeIcon\n                                          icon={faDog}\n                                          className=\"mt-80 ml-200 text-center cursor-pointer\"\n                                          color=\"white\"\n                                          size=\"4x\"\n                                          onClick={() => {handleMint()}}\n                                          // onMouseOver={()=>this.cursor=hand}\n                                      />\n                                      {/* <Router><Routes /></Router> */}\n                                      \n                </div>\n            </div>\n            </header>\n            </div>\n            --------------------------------\n            <div className=\"text-white bg-custom-black py-1 px-2 text-xl\">\n              <button onClick={handleConnect}>{web3 ? \"Disconnect\" : \"Connect\"}</button><br />\n              <button onClick={handleFetch}>Fetch My Walker info</button><br />\n              <button onClick={handleSet}>Set New Name</button>\n              <input ref={inputElm} placeholder=\"reSet My Walker Name\" /><br />\n              <button onClick={handleFetchCount}>get My NFT count</button><br />\n              <Button type=\"primary\" onClick={handleNotify}>Test Button</Button>\n\n              <hr />\n              <div>\n              Network: {network?.chainId} {network?.name}<br />\n              Account: {account}<br />\n              WalkerName: {walker}<br />\n              StatusMessage: {appMsg}<br />\n              Has NFTs: {nftCount}<br />\n              </div>\n            </div>\n            <i>Test using Matic TestNet, 80001</i>\n             \n        </div>\n      )//end return\n    }\n    \n}//end app func\n\nexport default App\n\n// http://localhost:8080/pure-game-front/\n// https://mumbai.polygonscan.com/tx/0xe8dd990bcf5ab215c50c2eaef77956406b119373c2596eadb31aeb5272de9cdc","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// import { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n  {/* <Router> */}\n     <App />\n  {/* </Router> */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}